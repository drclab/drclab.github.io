+++
title = "Rust 107-3: Common Errors with Paths and Visibility"
date = "2026-07-22"
tags = ["rust", "paths", "errors", "privacy", "pub", "module-tree", "compilation-errors", "programming"]
categories = ["posts"]
series = ["Rust 107"]
type = "post"
draft = false
math = false
description = "Debug common Rust errors related to module paths and visibility, with code examples and fixes."
+++

Welcome to Rust 107-3! Building on paths in the module tree, this post focuses on common errors with code examples, error messages, and how to fix them. Understanding these helps debug visibility issues.

## Error: Module is Private

Trying to access a private module causes this error.

**Code that fails:**

```rust
mod front_of_house {
    mod hosting {
        fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    crate::front_of_house::hosting::add_to_waitlist();
    front_of_house::hosting::add_to_waitlist();
}
```

**Error:**

```
error[E0603]: module `hosting` is private
 --> src/lib.rs:9:28
  |
9 |     crate::front_of_house::hosting::add_to_waitlist();
  |                            ^^^^^^^ private module
  |
note: the module `hosting` is defined here
 --> src/lib.rs:2:5
   |
2  |     mod hosting {
   |     ^^^^^^^^^^^
```

**Fix:** Make the module public with `pub mod hosting`.

## Error: Function is Private

Even with public module, functions are private by default.

**Code that fails:**

```rust
mod front_of_house {
    pub mod hosting {
        fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    crate::front_of_house::hosting::add_to_waitlist();
}
```

**Error:**

```
error[E0603]: function `add_to_waitlist` is private
 --> src/lib.rs:10:37
   |
10 |     crate::front_of_house::hosting::add_to_waitlist();
   |                                     ^^^^^^^^^^^^^^^ private function
   |
note: the function `add_to_waitlist` is defined here
 --> src/lib.rs:3:9
   |
3  |         fn add_to_waitlist() {}
   |         ^^^^^^^^^^^^^^^^^^^^
```

**Fix:** Add `pub` to the function: `pub fn add_to_waitlist() {}`.

## Error: Accessing Private Struct Fields

Struct fields are private unless marked `pub`.

**Code that fails:**

```rust
mod back_of_house {
    pub struct Breakfast {
        pub toast: String,
        seasonal_fruit: String,
    }

    impl Breakfast {
        pub fn summer(toast: &str) -> Breakfast {
            Breakfast {
                toast: String::from(toast),
                seasonal_fruit: String::from("peaches"),
            }
        }
    }
}

pub fn eat_at_restaurant() {
    let mut meal = back_of_house::Breakfast::summer("Rye");
    meal.seasonal_fruit = String::from("blueberries"); // Error here
}
```

**Error:**

```
error[E0616]: field `seasonal_fruit` of struct `back_of_house::Breakfast` is private
 --> src/lib.rs:20:10
   |
20 |     meal.seasonal_fruit = String::from("blueberries");
   |          ^^^^^^^^^^^^^^^ private field
```

**Fix:** Make the field public if needed: `pub seasonal_fruit: String,`. But often, keep it private and use methods.

## Error: Enum Variants Are Public, But...

Enums make variants public with `pub enum`, but ensure the enum is accessible.

**Code that works (no error):**

```rust
mod back_of_house {
    pub enum Appetizer {
        Soup,
        Salad,
    }
}

pub fn eat_at_restaurant() {
    let order1 = back_of_house::Appetizer::Soup;
    let order2 = back_of_house::Appetizer::Salad;
}
```

No error here, as enum variants are public.

## Error: Path Not Found

Using wrong paths leads to "not found" errors.

**Code that fails:**

```rust
mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}

pub fn eat_at_restaurant() {
    // Wrong path
    hosting::add_to_waitlist(); // Error: cannot find function `hosting` in this scope
}
```

**Error:**

```
error[E0425]: cannot find function `hosting` in this scope
 --> src/lib.rs:10:5
   |
10 |     hosting::add_to_waitlist();
   |     ^^^^^^^ not found in this scope
```

**Fix:** Use full path: `front_of_house::hosting::add_to_waitlist();` or absolute: `crate::front_of_house::hosting::add_to_waitlist();`.

## Summary

Common errors stem from privacy defaults: modules, functions, fields private unless `pub`. Use absolute/relative paths correctly. Compiler messages guide fixes.

Next, we'll cover bringing paths into scope with `use`.

Stay tuned for more Rust!